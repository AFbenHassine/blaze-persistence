<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<parent>
		<groupId>com.blazebit</groupId>
		<artifactId>blaze-persistence-entity-view</artifactId>
		<version>1.0.5</version>
		<relativePath>../pom.xml</relativePath>
	</parent>

	<artifactId>blaze-persistence-entity-view-testsuite</artifactId>
	<packaging>jar</packaging>

	<name>Blazebit Persistence Entity-View Testsuite</name>

	<dependencies>

		<!-- Test dependencies -->

		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>blaze-persistence-core-api</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>blaze-persistence-core-impl</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>blaze-persistence-entity-view-api</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>blaze-persistence-entity-view-impl</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>${project.groupId}</groupId>
			<artifactId>blaze-common-utils</artifactId>
			<scope>test</scope>
		</dependency>

		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>com.googlecode.catch-exception</groupId>
			<artifactId>catch-exception</artifactId>
			<scope>test</scope>
		</dependency>
		<dependency>
			<groupId>org.mockito</groupId>
			<artifactId>mockito-all</artifactId>
			<version>1.9.5</version>
		</dependency>
	</dependencies>


	<profiles>
		<!-- RDBMS profiles -->
		<profile>
			<id>h2</id>
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<configuration>
							<excludedGroups>com.blazebit.persistence.testsuite.base.category.NoH2</excludedGroups>
							<systemPropertyVariables>
								<jdbc.url>jdbc:h2:mem:test</jdbc.url>
								<jdbc.user>admin</jdbc.user>
								<jdbc.password>admin</jdbc.password>
								<jdbc.driver>org.h2.Driver</jdbc.driver>
							</systemPropertyVariables>
						</configuration>
						<dependencies>
			                <dependency>
			                    <groupId>org.apache.maven.surefire</groupId>
			                    <artifactId>surefire-junit47</artifactId>
			                    <version>${version.surefire.plugin}</version>
			                </dependency>
			            </dependencies>
					</plugin>
				</plugins>
			</build>
			<dependencies>
				<dependency>
					<groupId>com.h2database</groupId>
					<artifactId>h2</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>mysql</id>
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<configuration>
							<excludedGroups>com.blazebit.persistence.testsuite.base.category.NoMySQL</excludedGroups>
							<systemPropertyVariables>
								<jdbc.url>jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8</jdbc.url>
								<jdbc.user>root</jdbc.user>
								<jdbc.password />
								<jdbc.driver>com.mysql.jdbc.Driver</jdbc.driver>
							</systemPropertyVariables>
						</configuration>
						<dependencies>
			                <dependency>
			                    <groupId>org.apache.maven.surefire</groupId>
			                    <artifactId>surefire-junit47</artifactId>
			                    <version>${version.surefire.plugin}</version>
			                </dependency>
			            </dependencies>
					</plugin>
				</plugins>
			</build>
			<dependencies>
				<dependency>
					<groupId>mysql</groupId>
					<artifactId>mysql-connector-java</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>postgresql</id>
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<configuration>
							<excludedGroups>com.blazebit.persistence.testsuite.base.category.NoPostgreSQL</excludedGroups>
							<systemPropertyVariables>
								<jdbc.url>jdbc:postgresql://localhost:5432/test</jdbc.url>
								<jdbc.user>postgres</jdbc.user>
								<jdbc.password />
								<jdbc.driver>org.postgresql.Driver</jdbc.driver>
							</systemPropertyVariables>
						</configuration>
						<dependencies>
			                <dependency>
			                    <groupId>org.apache.maven.surefire</groupId>
			                    <artifactId>surefire-junit47</artifactId>
			                    <version>${version.surefire.plugin}</version>
			                </dependency>
			            </dependencies>
					</plugin>
				</plugins>
			</build>
			<dependencies>
				<dependency>
					<groupId>org.postgresql</groupId>
					<artifactId>postgresql</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>sqlite</id>
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<configuration>
							<excludedGroups>com.blazebit.persistence.testsuite.base.category.NoSQLite</excludedGroups>
							<systemPropertyVariables>
								<jdbc.url>jdbc:sqlite::memory:</jdbc.url>
								<jdbc.user />
								<jdbc.password />
								<jdbc.driver>org.sqlite.JDBC</jdbc.driver>
							</systemPropertyVariables>
						</configuration>
						<dependencies>
			                <dependency>
			                    <groupId>org.apache.maven.surefire</groupId>
			                    <artifactId>surefire-junit47</artifactId>
			                    <version>${version.surefire.plugin}</version>
			                </dependency>
			            </dependencies>
					</plugin>
				</plugins>
			</build>
			<dependencies>
				<dependency>
					<groupId>org.xerial</groupId>
					<artifactId>sqlite-jdbc</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>db2</id>
			<!-- 
			In order to use this profile, you have to install the db2 driver jars via:
				mvn -q install:install-file -Dfile=/PATH/TO/db2jcc4.jar -DgroupId=com.ibm.db2 -DartifactId=db2jcc4 -Dversion=9.7 -Dpackaging=jar -DgeneratePom=true 
				mvn -q install:install-file -Dfile=/PATH/TO/db2jcc_license_cu.jar -DgroupId=com.ibm.db2 -DartifactId=db2jcc_license_cu -Dversion=9.7 -Dpackaging=jar -DgeneratePom=true
			-->
			<build>
				<plugins>
					<plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<configuration>
							<excludedGroups>com.blazebit.persistence.testsuite.base.category.NoDB2</excludedGroups>
							<systemPropertyVariables>
								<jdbc.url>jdbc:db2://localhost:50000/test</jdbc.url>
								<jdbc.user>db2inst1</jdbc.user>
								<jdbc.password>db2inst1</jdbc.password>
								<jdbc.driver>com.ibm.db2.jcc.DB2Driver</jdbc.driver>
							</systemPropertyVariables>
						</configuration>
						<dependencies>
			                <dependency>
			                    <groupId>org.apache.maven.surefire</groupId>
			                    <artifactId>surefire-junit47</artifactId>
			                    <version>${version.surefire.plugin}</version>
			                </dependency>
			            </dependencies>
					</plugin>
				</plugins>
			</build>
			<dependencies>
				<dependency>
					<groupId>com.ibm.db2</groupId>
					<artifactId>db2jcc4</artifactId>
					<version>9.7</version>
					<scope>test</scope>
				</dependency>
				<dependency>
					<groupId>com.ibm.db2</groupId>
					<artifactId>db2jcc_license_cu</artifactId>
					<version>9.7</version>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>

		<!-- JPA provider profiles -->
		<profile>
			<id>hibernate</id>
			<activation>
				<activeByDefault>true</activeByDefault>
			</activation>
			<dependencies>
				<dependency>
					<groupId>${project.groupId}</groupId>
					<artifactId>blaze-persistence-testsuite-base-hibernate</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>hibernate-4.3</id>
			<dependencies>
				<dependency>
					<groupId>org.hibernate</groupId>
					<artifactId>hibernate-entitymanager</artifactId>
					<version>4.3.10.Final</version>
				</dependency>
				<dependency>
					<groupId>${project.groupId}</groupId>
					<artifactId>blaze-persistence-testsuite-base-hibernate</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>hibernate-5.0</id>
			<dependencies>
				<dependency>
					<groupId>org.hibernate</groupId>
					<artifactId>hibernate-entitymanager</artifactId>
					<version>5.0.0.CR3</version>
				</dependency>
				<dependency>
					<groupId>${project.groupId}</groupId>
					<artifactId>blaze-persistence-testsuite-base-hibernate</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>eclipselink</id>
			<dependencies>
				<dependency>
					<groupId>${project.groupId}</groupId>
					<artifactId>blaze-persistence-testsuite-base-eclipselink</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
		<profile>
			<id>datanucleus</id>
			<dependencies>
				<dependency>
					<groupId>${project.groupId}</groupId>
					<artifactId>blaze-persistence-testsuite-base-datanucleus</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
			<!-- <build> <plugins> <plugin> <groupId>org.datanucleus</groupId> <artifactId>datanucleus-maven-plugin</artifactId> 
				<version>4.0.0-release</version> <configuration> <api>JPA</api> <persistenceUnitName>TestPU</persistenceUnitName> 
				<verbose>true</verbose> </configuration> <executions> <execution> <phase>process-test-classes</phase> 
				<goals> <goal>enhance</goal> </goals> </execution> </executions> </plugin> 
				</plugins> </build> -->
		</profile>
		<profile>
			<id>openjpa</id>
			<dependencies>
				<dependency>
					<groupId>${project.groupId}</groupId>
					<artifactId>blaze-persistence-testsuite-base-openjpa</artifactId>
					<scope>test</scope>
				</dependency>
			</dependencies>
		</profile>
	</profiles>
</project>
